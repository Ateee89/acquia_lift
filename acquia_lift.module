<?php

use Drupal\acquia_lift\Entity\Credential;

/**
 * Implements hook_page_attachments() to insert JavaScript to the appropriate scope/region of the page.
 */
function acquia_lift_page_attachments(array &$page) {
  $page_attachments_manager = \Drupal::service('acquia_lift.service.page_attachments_manager');
  if (!$page_attachments_manager->shouldAttach()) {
    return;
  }

  $page['#attached']['drupalSettings']['acquia_lift'] = $page_attachments_manager->getSettings();
  $page['#attached']['library'][] = $page_attachments_manager->getLibrary();
}
